<html>

<head>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
        crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp"
        crossorigin="anonymous">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous">  </script>
        
<script>
    var city ="";
function google_Complete(gResult){
 console.log(gResult.results);
 var lat = (gResult.results[0].geometry.location.lat);
 var lng = (gResult.results[0].geometry.location.lng);
 console.log(lng);
 console.log(lat);
  city = (gResult.results[0].formatted_address);
 var result = {
        url: "https://api.darksky.net/forecast/4c175e0918482d7e59b0b9e748006844/" + lat + "," + lng,
        dataType: "jsonp",
        success: darksky_Complete
        };

       $.ajax(result);
};

function darksky_Complete(result) {
    console.log(result.currently.summary);
    console.log(result.currently.temperature);
    console.log(result.currently.precipProbability);
    console.log(result.daily.summary);
    console.log(city);
var wInfo = (result);
    var mDisplay = genMainDisplay(result);
    $("#card").append(mDisplay);
    dayCards(result);
   
};
function dayCards (result) {
console.log("I made it to dayCards");
var wDisplay = genWCards(result);
$("#wCard").append(wDisplay);

}

function genWCards(result){
console.log(result);

}
function startItOff(userInput){
    var zip = userInput;
    if (zip != 0){
  var gResult = {
        url: "https://maps.googleapis.com/maps/api/geocode/json?address=" + zip + "&key=AIzaSyDo5sAWg49d2_TnmNXSLWcH4FyurjforJg",
        dataType: "json",
        success: google_Complete
    };
    $.ajax(gResult);
    
    } else {
        alert("I need a zip code or city and state to find the weather.");
    }
};

function genMainDisplay(result){
    console.log("I made it to the genMainDisplay");
    var mDtemplate = $("#mainDisplay").html();
    mDtemplate = mDtemplate.replace("@@Temp@@", result.currently.temperature);
    mDtemplate = mDtemplate.replace("@@rain@@", result.currently.precipProbability);
    mDtemplate = mDtemplate.replace("@@hi@@", result.currently.humidity);
    mDtemplate = mDtemplate.replace("@@low@@", result.currently.summary);
    mDtemplate = mDtemplate.replace("@@city@@", city);

return mDtemplate;

}
//$(function(){
  //var gResult = {
    //    url: "https://maps.googleapis.com/maps/api/geocode/json?address=" + zip + "&key=AIzaSyDo5sAWg49d2_TnmNXSLWcH4FyurjforJg",
    //    dataType: "json",
      //  success: google_Complete
  //  };
   // $.ajax(gResult);
//});



 </script>
    <style>
        h2 {
            color: #ffffff;
        }
        
        .display {
            color: #dddddd;
            font-size: 20px;
            padding: 3px;
        }
        .displayRow{
            padding:5px;
        }
        
        .tempD {
            font-size: 100px;
            color: #dcc504;
        }
    
        .cardStyle {
            color: #ffffff;
            font-size: 19px;
            margin-bottom: 5px;
            padding: 6px;
            border-radius: 20px;
            height: 250px;
            background: #333;
          -moz-box-shadow:    inset 0 0 20px #000000;
          -webkit-box-shadow: inset 0 0 20px #000000;
          box-shadow:         inset 0 0 20px #000000;
        }
      
        .rStyle {
            padding-top: 5px;
            padding-bottom: 5px;
        }
        .footer {
            height:50px;
            color: #aaa;
            background: #333333;
        }
    .logo{
        color: #ffffff;
        font-size: 40px;
        margin-left: 15%;
    }
    </style>
    <!--how to link to a css file-->
    <liink rel ="stylesheet" type="text/css" href="filelink.css">
</head>

<body style="background: #234234; background-image: url('https://raw.githubusercontent.com/AiHughesToo/AiHughesToo.github.io/master/weather/bbground4.jpg');">
<script>var googleAPI="AIzaSyDo5sAWg49d2_TnmNXSLWcH4FyurjforJg";</script>
    <!--nav bar goes here with the title and the dropdown menu-->


   <nav class="navbar navbar-inverse navbar-static-top">
            <div class="continer-fluid">
                <div class="row">
             <div class="col-md-4">   <span class="logo">Weatherly</span></div>
              <div class="col-md-3 col-md-offset-3"><input type="text" name="userInput" id="uI" style="margin-left: 2%;">
<button type="button" onclick = "startItOff(document.getElementById('uI').value)" class="btn btn-default" style="margin-right: 5%; margin-top: 1%;">
    <span class="glyphicon glyphicon-plus" Style="font-size: 20px;" aria-hidden="true"></span>
  </button>
  </div>
</div>
</div>
        </nav>
        <!--end nav bar -->
        
        <!--start of display of main day  -->
    
          <!-- end of main day display -->
          <div class="container display" class="display" style="background: #000000; border-radius: 300px;"> 
    <div class="row" id="card">
        </div>
    </div>
          <!-- start of template for main display-->
     <div id ="mainDisplay" class="display" style="display: none;">

             <div class="row displayRow">
              <div class="col-md-4 col-xs-6 col-xs-offset-2">@@city@@</div>
                <div class="col-md-6 col-md-offset-2 col-xs-6 col-xs-offset-2">Chance For Rain:@@rain@@%</div>
                <div class="col-md-12 text-center tempD">@@Temp@@</div>
                <div class="col-md-4 col-md-offset-2 col-xs-2 col-xs-offset-3">Humidity: @@hi@@</div>
                <div class="col-md-4 col-xs-2 col-xs-offset-2">@@low@@</div>
            
            </div>
        </div>

<!-- end of main display template-->

        <div class="container-fluid" style="margin: 5px;">
      

        <!-- time goes here -->

        <div class="col-md-12 text-right" style="background: #333; color: #eee;"><span id="time"></span>
        <script>
var d = new Date ();
document.getElementById("time").innerHTML = d;
    
            </script>
        </div>
        </div>
        <!-- Start of cards -->
        <!--set a div to hold the daily template-->
        <div class="container" id="weekly">
            <div class="row" id="wCard">
        
            </div>
        <!--end to dialy holder-->
        <!--day cards template-->
        <div id="wDisplay" style="display: none;">
<div class="row rStyle">
<div class = "col-md-12 " style = "background: #ffffff; margin-bottom: 5px;">@@weeksum@@
    </div>
<!--1-->
    <div class="card col-md-3 col-md-offset-1 cardStyle">
<p class="text-center">@@date1@@</p>
<p class="text-center">@@icon1@@</p>
<span>Hi: @@hi1@@  </span> <span>Low: @@low1@@</span><br />
<spano class="text-center" >@@sum1@@</span><br/>
<span>@@rain1@@ % chance for rain</span>
        </div>
        <!--2-->
        <div class="card col-md-3 col-md-offset-1 cardStyle">
<p class="text-center">@@date2@@</p>
<p class="text-center">@@icon2@@</p>
<span>Hi: @@hi2@@  </span> <span>Low: @@low2@@</span><br />
<spano class="text-center" >@@sum2@@</span><br/>
<span>@@rain2@@ % chance for rain</span>
        </div>
        <!--3-->
          <div class="card col-md-3 col-md-offset-1 cardStyle">
<p class="text-center">@@date3@@</p>
<p class="text-center">@@icon3@@</p>
<span>Hi: @@hi3@@  </span> <span>Low: @@low3@@</span><br />
<spano class="text-center" >@@sum3@@</span><br/>
<span>@@rain3@@ % chance for rain</span>
        </div>
        <!--4-->
          <div class="card col-md-3 col-md-offset-1 cardStyle">
<p class="text-center">@@date4@@</p>
<p class="text-center">@@icon4@@</p>
<span>Hi: @@hi4@@  </span> <span>Low: @@low4@@</span><br />
<spano class="text-center" >@@sum4@@</span><br/>
<span>@@rain4@@ % chance for rain</span>
        </div>
        <!--5-->
          <div class="card col-md-3 col-md-offset-1 cardStyle">
<p class="text-center">@@date5@@</p>
<p class="text-center">@@icon5@@</p>
<span>Hi: @@hi5@@  </span> <span>Low: @@low5@@</span><br />
<spano class="text-center" >@@sum5@@</span><br/>
<span>@@rain5@@ % chance for rain</span>
        </div>
        <!--6-->  <div class="card col-md-3 col-md-offset-1 cardStyle">
<p class="text-center">@@date6@@</p>
<p class="text-center">@@icon6@@</p>
<span>Hi: @@hi6@@  </span> <span>Low: @@low6@@</span><br />
<spano class="text-center" >@@sum6@@</span><br/>
<span>@@rain6@@ % chance for rain</span>
        </div>
 </div>   
 </div>
        <!-- end day card template-->
<div class="container" style="display: none">
      <div class="row rStyle">
<!--start Card-->
                <div class="card col-md-3 col-md-offset-1 cardStyle" style="background-image: url('https://raw.githubusercontent.com/AiHughesToo/AiHughesToo.github.io/master/weather/1174054-bigthumbnail.jpg">
                    <div class="card-img-overlay">
                        <h3 class="card-title text-center">City Name</h3>
                        <h1 class="card-title text-center">72</h1>
                        <span>Hi:</span>
                        <span>Low:</span><br />
                        <br />
                        <br />
                        <span>Chance for Rain:</span>
                    </div>
                    <!-- card img overlay -->
                </div>
                <!-- card -->
                <!--start Card-->
                <div class="card col-md-3 col-md-offset-1 cardStyle" style="background-image: url('https://github.com/AiHughesToo/AiHughesToo.github.io/blob/master/weather/1.jpg');">
                    
                    <div class="card-img-overlay">
                        <h3 class="card-title text-center">City Name</h3>
                        <h1 class="card-title text-center">72</h1>
                        <span>Hi:</span>
                        <span>Low:</span><br />
                        <br />
                        <br />
                        <span>Chance for Rain:</span>
                    </div>
                    <!-- card img overlay -->
                </div>
                     <!--start Card-->
                <div class="card col-md-3 col-md-offset-1 cardStyle" style="background-image: url('https://github.com/AiHughesToo/AiHughesToo.github.io/blob/master/weather/1.jpg');">
                    
                    <div class="card-img-overlay">
                        <h3 class="card-title text-center">City Name</h3>
                        <h1 class="card-title text-center">72</h1>
                        <span>Hi:</span>
                        <span>Low:</span><br />
                        <br />
                        <br />
                        <span>Chance for Rain:</span>
                    </div>
                    <!-- card img overlay -->
                </div>
         
         
          </div> <!--row-->
    

    </div>
      <!--second row of images-->

        <div class="footer text-center">
<span>Weather information provided by the Darksky project.</span>
            </div>
</body>




</html>