<html>

<head>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
        crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp"
        crossorigin="anonymous">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous">  </script>
        
<script>
    var city ="";
function google_Complete(gResult){
 console.log(gResult.results);
 var lat = (gResult.results[0].geometry.location.lat);
 var lng = (gResult.results[0].geometry.location.lng);
 console.log(lng);
 console.log(lat);
  city = (gResult.results[0].formatted_address);
 var result = {
        url: "https://api.darksky.net/forecast/4c175e0918482d7e59b0b9e748006844/" + lat + "," + lng,
        dataType: "jsonp",
        success: darksky_Complete
        };

       $.ajax(result);
};

function darksky_Complete(result) {
    console.log(result.currently.summary);
    console.log(result.currently.temperature);
    console.log(result.currently.precipProbability);
    console.log(result.daily.summary);
    console.log(city);
var wInfo = (result);
    var mDisplay = genMainDisplay(result);
    $("#card").append(mDisplay);
    dayCards(result);
   
};
function dayCards (result) {
console.log("I made it to dayCards");
var wDisplay = genWCards(result);
$("#wCard").append(wDisplay);

}

function genWCards(result){
console.log(result.daily.summary);
var day1 = result.daily.data[0]
var date1 = new Date(day1.time * 1000);
var date1a = date1.toString();
date1a = date1a.substr(0,16);
var day2 = result.daily.data[1]
var date2 = new Date(day2.time * 1000);
var date2a =date2.toString();
date2a = date2a.substr(0,16);
var day3 = result.daily.data[2]
var date3 = new Date(day3.time * 1000);
var date3a =date3.toString();
date3a = date3a.substr(0,16);
var day4 = result.daily.data[3]
var date4 = new Date(day4.time * 1000);
var date4a =date4.toString();
date4a = date4a.substr(0,16);
var day5 = result.daily.data[4]
var date5 = new Date(day5.time * 1000);
var date5a =date5.toString();
date5a = date5a.substr(0,16);
var day6 = result.daily.data[5]
var date6 = new Date(day6.time * 1000);
var date6a =date6.toString();
date6a = date6a.substr(0,16);
var wDisplay = $("#wDisplay").html();
wDisplay = wDisplay.replace("@@weeksum@@", result.daily.summary);
wDisplay = wDisplay.replace("@@date1@@", date1a);
wDisplay = wDisplay.replace("@@hi1@@",result.daily.data[0].temperatureMax);
wDisplay = wDisplay.replace("@@low1@@",result.daily.data[0].temperatureMin);
wDisplay = wDisplay.replace("@@sum1@@",result.daily.data[0].summary);
wDisplay = wDisplay.replace("@@rain1@@",result.daily.data[0].precipProbability);
wDisplay = wDisplay.replace("@@weeksum@@", result.daily.summary);
wDisplay = wDisplay.replace("@@date2@@", date2a);
wDisplay = wDisplay.replace("@@hi2@@",result.daily.data[1].temperatureMax);
wDisplay = wDisplay.replace("@@low2@@",result.daily.data[1].temperatureMin);
wDisplay = wDisplay.replace("@@sum2@@",result.daily.data[1].summary);
wDisplay = wDisplay.replace("@@rain2@@",result.daily.data[1].precipProbability);
wDisplay = wDisplay.replace("@@date3@@", date3a);
wDisplay = wDisplay.replace("@@hi3@@",result.daily.data[2].temperatureMax);
wDisplay = wDisplay.replace("@@low3@@",result.daily.data[2].temperatureMin);
wDisplay = wDisplay.replace("@@sum3@@",result.daily.data[2].summary);
wDisplay = wDisplay.replace("@@rain3@@",result.daily.data[2].precipProbability);
wDisplay = wDisplay.replace("@@date4@@", date4a);
wDisplay = wDisplay.replace("@@hi4@@",result.daily.data[3].temperatureMax);
wDisplay = wDisplay.replace("@@low4@@",result.daily.data[3].temperatureMin);
wDisplay = wDisplay.replace("@@sum4@@",result.daily.data[3].summary);
wDisplay = wDisplay.replace("@@rain4@@",result.daily.data[3].precipProbability);
wDisplay = wDisplay.replace("@@date5@@", date5a);
wDisplay = wDisplay.replace("@@hi5@@",result.daily.data[4].temperatureMax);
wDisplay = wDisplay.replace("@@low5@@",result.daily.data[4].temperatureMin);
wDisplay = wDisplay.replace("@@sum5@@",result.daily.data[4].summary);
wDisplay = wDisplay.replace("@@rain5@@",result.daily.data[4].precipProbability);
wDisplay = wDisplay.replace("@@date6@@", date6a);
wDisplay = wDisplay.replace("@@hi6@@",result.daily.data[5].temperatureMax);
wDisplay = wDisplay.replace("@@low6@@",result.daily.data[5].temperatureMin);
wDisplay = wDisplay.replace("@@sum6@@",result.daily.data[5].summary);
wDisplay = wDisplay.replace("@@rain6@@",result.daily.data[5].precipProbability);

return wDisplay;
}

function startItOff(userInput){
    var zip = userInput;
    if (zip != 0){
  var gResult = {
        url: "https://maps.googleapis.com/maps/api/geocode/json?address=" + zip + "&key=AIzaSyDo5sAWg49d2_TnmNXSLWcH4FyurjforJg",
        dataType: "json",
        success: google_Complete
    };
    $.ajax(gResult);
    
    } else {
        alert("I need a zip code or city and state to find the weather.");
    }
};

function genMainDisplay(result){
    console.log("I made it to the genMainDisplay");
    var mDtemplate = $("#mainDisplay").html();
    mDtemplate = mDtemplate.replace("@@Temp@@", result.currently.temperature);
    mDtemplate = mDtemplate.replace("@@rain@@", result.currently.precipProbability);
    mDtemplate = mDtemplate.replace("@@hi@@", result.currently.humidity);
    mDtemplate = mDtemplate.replace("@@low@@", result.currently.summary);
    mDtemplate = mDtemplate.replace("@@city@@", city);

return mDtemplate;

}
//$(function(){
  //var gResult = {
    //    url: "https://maps.googleapis.com/maps/api/geocode/json?address=" + zip + "&key=AIzaSyDo5sAWg49d2_TnmNXSLWcH4FyurjforJg",
    //    dataType: "json",
      //  success: google_Complete
  //  };
   // $.ajax(gResult);
//});



 </script>
    <style>
        h2 {
            color: #ffffff;
        }
        
        .display {
            color: #dddddd;
            font-size: 20px;
            padding: 3px;
        }
        .displayRow{
            padding:5px;
        }
        
        .tempD {
            font-size: 100px;
            color: #dcc504;
        }
    
        .cardStyle {
            color: #ffffff;
            font-size: 22px;
            margin-bottom: 5px;
            padding-left: 10px;
            border-radius: 20px;
            height: 250px;
            background: #333;
          -moz-box-shadow:    inset 0 0 20px #000000;
          -webkit-box-shadow: inset 0 0 20px #000000;
          box-shadow:         inset 0 0 20px #000000;
        }
      
        .rStyle {
            padding-top: 5px;
            padding-bottom: 5px;
        }
        .footer {
            height:50px;
            color: #aaa;
            background: #333333;
        }
    .logo{
        color: #ffffff;
        font-size: 40px;
        margin-left: 15%;
    }
    .wSummary {
        background: #000;
        height: 30px;
        color: #dcc504;
        font-size: 20px;
        font-weight: bold;
        margin-bottom: 5px;
    }
    </style>
    <!--how to link to a css file-->
    <liink rel ="stylesheet" type="text/css" href="filelink.css">
</head>

<body style="background: #234234; background-image: url('https://raw.githubusercontent.com/AiHughesToo/AiHughesToo.github.io/master/weather/bbground4.jpg');">
<script>var googleAPI="AIzaSyDo5sAWg49d2_TnmNXSLWcH4FyurjforJg";</script>
    <!--nav bar goes here with the title and the dropdown menu-->


   <nav class="navbar navbar-inverse navbar-static-top">
            <div class="continer-fluid">
                <div class="row">
             <div class="col-md-4">   <span class="logo">Weatherly</span></div>
              <div class="col-md-3 col-md-offset-3"><input type="text" name="userInput" id="uI" style="margin-left: 2%;">
<button type="button" onclick = "startItOff(document.getElementById('uI').value)" class="btn btn-default" style="margin-right: 5%; margin-top: 1%;">
    <span class="glyphicon glyphicon-plus" Style="font-size: 20px;" aria-hidden="true"></span>
  </button>
  </div>
</div>
</div>
        </nav>
        <!--end nav bar -->
        
        <!--start of display of main day  -->
    
          <!-- end of main day display -->
          <div class="container display" class="display" style="background: #000000; border-radius: 300px;"> 
    <div class="row" id="card">
        </div>
    </div>
          <!-- start of template for main display-->
     <div id ="mainDisplay" class="display" style="display: none;">

             <div class="row displayRow">
              <div class="col-md-4 col-xs-6 col-xs-offset-2">@@city@@</div>
                <div class="col-md-6 col-md-offset-2 col-xs-6 col-xs-offset-2">Chance For Rain:@@rain@@%</div>
                <div class="col-md-12 text-center tempD">@@Temp@@</div>
                <div class="col-md-4 col-md-offset-2 col-xs-2 col-xs-offset-3">Humidity: @@hi@@</div>
                <div class="col-md-4 col-xs-2 col-xs-offset-2">@@low@@</div>
            
            </div>
        </div>

<!-- end of main display template-->

        <div class="container-fluid" style="margin: 5px;">
      

        <!-- time goes here -->

        <div class="col-md-12 text-right" style="background: #333; color: #eee;"><span id="time"></span>
        <script>
var d = new Date ();
document.getElementById("time").innerHTML = d;
    
            </script>
        </div>
        </div>
        <!-- Start of cards -->
        <!--set a div to hold the daily template-->
        <div class="container" id="weekly">
            <div class="row" id="wCard">
        
            </div>
        <!--end to dialy holder-->
        <!--day cards template-->
        <div id="wDisplay" style="display: none;">
<div class="row rStyle">
<div class = "col-md-12 wSummary text-center">@@weeksum@@
    </div>
<!--1-->
    <div class="card col-md-3 col-md-offset-1 cardStyle">
<h1 class="text-center" style="color: #00a2ff">@@date1@@</h1>
<span style="margin-right:2%">Hi: @@hi1@@</span> <span style="margin-left: 10%">Low: @@low1@@</span> <span >@@rain1@@ % chance for rain</span><br />
<p class="text-center">@@sum1@@</p><br/>
        </div>
        <!--2-->
       <div class="card col-md-3 col-md-offset-1 cardStyle">
<h1 class="text-center" style="color: #00a2ff">@@date2@@</h1>
<span style="margin-right:2%">Hi: @@hi2@@</span> <span style="margin-left: 10%">Low: @@low2@@</span> <span style="margin-left:5%">@@rain2@@ % chance for rain</span><br />
<span class="text-center">@@sum2@@</span><br/>
        </div>
        <!--3-->
          <div class="card col-md-3 col-md-offset-1 cardStyle">
<h1 class="text-center" style="color: #00a2ff">@@date3@@</h1>
<span style="margin-right:2%">Hi: @@hi3@@</span> <span style="margin-left: 10%">Low: @@low3@@</span> <span style="margin-left:5%">@@rain3@@ % chance for rain</span><br />
<span class="text-center">@@sum3@@</span><br/>
        </div>
        <!--4-->
            <div class="card col-md-3 col-md-offset-1 cardStyle">
<h1 class="text-center" style="color: #00a2ff">@@date4@@</h1>
<span style="margin-right:2%">Hi: @@hi4@@</span> <span style="margin-left: 10%">Low: @@low4@@</span> <span style="margin-left:5%">@@rain4@@ % chance for rain</span><br />
<span class="text-center">@@sum4@@</span><br/>
        </div>
        <!--5-->
          <div class="card col-md-3 col-md-offset-1 cardStyle">
<h1 class="text-center" style="color: #00a2ff">@@date5@@</h1>
<span style="margin-right:2%">Hi: @@hi5@@</span> <span style="margin-left: 10%">Low: @@low5@@</span> <span style="margin-left:5%">@@rain5@@ % chance for rain</span><br />
<span class="text-center">@@sum5@@</span><br/>
        </div>
        </div>
        <!--6-->  
           <div class="card col-md-3 col-md-offset-1 cardStyle">
<h1 class="text-center" style="color: #00a2ff">@@date6@@</h1>
<span style="margin-right:2%">Hi: @@hi6@@</span> <span style="margin-left: 10%">Low: @@low6@@</span> <span style="margin-left:3%">@@rain6@@ % chance for rain</span><br />
<span class="text-center">@@sum6@@</span><br/>
        </div>
        </div>
 </div>   
 </div>
        <!-- end day card template-->
<div class="container" style="display: none">
      <div class="row rStyle">
<!--start Card-->
                <div class="card col-md-3 col-md-offset-1 cardStyle" style="background-image: url('https://raw.githubusercontent.com/AiHughesToo/AiHughesToo.github.io/master/weather/1174054-bigthumbnail.jpg">
                    <div class="card-img-overlay">
                        <h3 class="card-title text-center">City Name</h3>
                        <h1 class="card-title text-center">72</h1>
                        <span>Hi:</span>
                        <span>Low:</span><br />
                        <br />
                        <br />
                        <span>Chance for Rain:</span>
                    </div>
                    <!-- card img overlay -->
                </div>
                <!-- card -->
                <!--start Card-->
                <div class="card col-md-3 col-md-offset-1 cardStyle" style="background-image: url('https://github.com/AiHughesToo/AiHughesToo.github.io/blob/master/weather/1.jpg');">
                    
                    <div class="card-img-overlay">
                        <h3 class="card-title text-center">City Name</h3>
                        <h1 class="card-title text-center">72</h1>
                        <span>Hi:</span>
                        <span>Low:</span><br />
                        <br />
                        <br />
                        <span>Chance for Rain:</span>
                    </div>
                    <!-- card img overlay -->
                </div>
                     <!--start Card-->
                <div class="card col-md-3 col-md-offset-1 cardStyle" style="background-image: url('https://github.com/AiHughesToo/AiHughesToo.github.io/blob/master/weather/1.jpg');">
                    
                    <div class="card-img-overlay">
                        <h3 class="card-title text-center">City Name</h3>
                        <h1 class="card-title text-center">72</h1>
                        <span>Hi:</span>
                        <span>Low:</span><br />
                        <br />
                        <br />
                        <span>Chance for Rain:</span>
                    </div>
                    <!-- card img overlay -->
                </div>
         
         
          </div> <!--row-->
    

    </div>
      <!--second row of images-->

        <div class="footer text-center">
<span>Weather information provided by the Darksky project.</span>
            </div>
</body>




</html>